import{u as e,a as r,j as o,A as s,L as t,k as a,D as l}from"./business-owner-dashboard-CK-ZpSaU.js";import{r as i}from"./react-vendor-BMk1H4su.js";import{U as n}from"./UniversalEmployeeSelector-B3-kSqLU.js";import{C as c}from"./CustomDatePicker-BNdf2X-K.js";import{u as d}from"./dashboard-router-BFAzDQx1.js";import{u as m}from"./warning-components-DTQROtuC.js";import{X as x,b2 as h,aC as u,m as p,t as b,as as v,g,aO as y}from"./ui-vendor-CMPykBlV.js";import"./pdf-vendor-CbrIsI36.js";import"./firebase-vendor-BIBOIkWK.js";import"./hr-dashboard-CsDff0Dt.js";import"./hod-dashboard-DsqlnPCJ.js";const j=[{id:"exceptional_performance",label:"Exceptional Performance",icon:"ðŸŒŸ",description:"Outstanding work quality and results"},{id:"achievement",label:"Achievement",icon:"ðŸ†",description:"Completed major milestone or project"},{id:"positive_behavior",label:"Positive Behavior",icon:"ðŸ˜Š",description:"Exemplary conduct and attitude"},{id:"innovation",label:"Innovation",icon:"ðŸ’¡",description:"Creative solutions and new ideas"},{id:"leadership",label:"Leadership",icon:"ðŸ‘‘",description:"Leading by example and inspiring others"},{id:"teamwork",label:"Teamwork",icon:"ðŸ¤",description:"Collaboration and team support"},{id:"customer_service",label:"Customer Service",icon:"ðŸ’¬",description:"Exceptional client/customer interaction"},{id:"safety",label:"Safety",icon:"ðŸ›¡ï¸",description:"Commitment to workplace safety"},{id:"other",label:"Other",icon:"â­",description:"Other notable achievement"}],f=["Leadership","Problem Solving","Communication","Creativity","Collaboration","Time Management","Technical Expertise","Customer Focus","Adaptability","Attention to Detail","Initiative","Accountability"],N=[{id:"bonus",label:"Bonus",icon:"ðŸ’°"},{id:"extra_time_off",label:"Extra Time Off",icon:"ðŸ–ï¸"},{id:"public_praise",label:"Public Praise",icon:"ðŸ“¢"},{id:"certificate",label:"Certificate",icon:"ðŸ“œ"},{id:"other",label:"Other",icon:"âœ¨"}],C=({isOpen:C,onClose:k,employeeId:w})=>{const{user:_}=e(),{organization:S}=r(),[T,D]=i.useState(null),[A,O]=i.useState(""),[I,E]=i.useState(""),[P,M]=i.useState(""),[z,F]=i.useState(""),[R,B]=i.useState((new Date).toISOString().split("T")[0]),[L,q]=i.useState([]),[U,W]=i.useState(""),[$,G]=i.useState([]),[K,Y]=i.useState(""),[H,J]=i.useState(""),[Q,V]=i.useState(""),[X,Z]=i.useState(!1),[ee,re]=i.useState(null),[oe,se]=i.useState(!1),[te,ae]=i.useState([]),[le,ie]=i.useState(!1),[ne,ce]=i.useState(!1),[de,me]=i.useState(!1),[xe,he]=i.useState(!1),[ue,pe]=i.useState({});d(C);const be=m({isActive:C,onEscape:k,autoFocus:!0,returnFocus:!0});i.useEffect(()=>{C&&(async()=>{if(_?.id&&S?.id)try{const e=(await s.employees.getByManager(_.id,S.id)).map(e=>({id:e.id,firstName:e.profile?.firstName||e.firstName||"Unknown",lastName:e.profile?.lastName||e.lastName||"Employee",position:e.profile?.position||e.employment?.position||"Unknown Position",department:e.profile?.department||e.employment?.department||"Unknown",employeeNumber:e.employeeNumber||e.profile?.employeeNumber||"",...e}));if(ae(e),w){const r=e.find(e=>e.id===w);r&&D(r)}}catch(e){t.error("Failed to load employees:",e),re("Failed to load employees")}})()},[_?.id,S?.id,C,w]);const ve=i.useMemo(()=>j.find(e=>e.id===A),[A]),ge=i.useCallback(e=>{O(e),ce(!1),me(!1)},[]),ye=i.useCallback(()=>{window.innerWidth<768?me(!0):ce(!ne)},[ne]),je=i.useCallback(e=>{q(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},[]),fe=i.useCallback(()=>{const e=U.trim();e&&!L.includes(e)&&(q(r=>[...r,e]),W(""))},[U,L]),Ne=i.useCallback(e=>{G(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},[]),Ce=i.useCallback(()=>{const e={};return T||(e.employee="Please select an employee"),A||(e.recognitionType="Please select a recognition type"),I.trim()?I.trim().length<5?e.achievementTitle="Title must be at least 5 characters":I.trim().length>100&&(e.achievementTitle="Title must be less than 100 characters"):e.achievementTitle="Achievement title is required",P.trim()?P.trim().length<20&&(e.achievementDescription="Description must be at least 20 characters"):e.achievementDescription="Achievement description is required",z.trim()?z.trim().length<20&&(e.businessImpact="Business impact must be at least 20 characters"):e.businessImpact="Business impact is required",R||(e.achievementDate="Achievement date is required"),$.includes("other")&&!K.trim()&&(e.recognitionOtherDetails="Please specify other recognition details"),pe(e),0===Object.keys(e).length},[T,A,I,P,z,R,$,K]);return i.useEffect(()=>{C||(D(null),O(""),E(""),M(""),F(""),B((new Date).toISOString().split("T")[0]),q([]),W(""),G([]),Y(""),J(""),V(""),re(null),se(!1),pe({}),ce(!1),me(!1),ie(!1))},[C]),oe?C?o.jsx("div",{className:"modal-system",children:o.jsxs("div",{ref:be,className:"modal-container",role:"dialog","aria-modal":"true","aria-labelledby":"recognition-success-title",children:[le&&o.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(50)].map((e,r)=>o.jsx("div",{className:"absolute animate-confetti",style:{left:100*Math.random()+"%",top:"-10px",animationDelay:3*Math.random()+"s",animationDuration:2+2*Math.random()+"s"},children:["ðŸŽ‰","â­","ðŸŒŸ","âœ¨","ðŸŽŠ"][Math.floor(5*Math.random())]},r))}),o.jsxs("div",{className:"modal-header",children:[o.jsx("div",{className:"modal-header__left",children:o.jsxs("div",{children:[o.jsx("h2",{id:"recognition-success-title",className:"modal-header__title",children:"Recognition Recorded!"}),o.jsx("p",{className:"modal-header__subtitle",children:"Achievement has been successfully documented"})]})}),o.jsx("button",{onClick:k,className:"modal-header__close-button","aria-label":"Close modal",children:o.jsx(x,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"modal-content",children:o.jsx("div",{className:"modal-content__scrollable",children:o.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[o.jsxs("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full mb-6 bg-gradient-to-br from-green-100 to-emerald-100 relative",children:[o.jsx(h,{className:"h-10 w-10 text-green-600"}),o.jsx(u,{className:"h-6 w-6 text-yellow-500 absolute -top-1 -right-1 animate-pulse"})]}),o.jsx("h3",{className:"text-2xl font-bold mb-4 text-green-700",children:"Celebration Time! ðŸŽ‰"}),o.jsxs("p",{className:"mb-6 text-lg",style:{color:"var(--color-text)"},children:["You've recognized ",o.jsxs("span",{className:"font-semibold text-green-600",children:[T?.firstName," ",T?.lastName]})," for their outstanding achievement!"]}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(p,{className:"w-6 h-6 text-green-600 shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-green-800 mb-1",children:I}),o.jsxs("div",{className:"text-sm text-green-700",children:[ve?.icon," ",ve?.label]})]})]})}),o.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"This recognition has been added to the employee's record and can be referenced during performance reviews."})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("div",{className:"modal-footer__nav",children:o.jsx("button",{onClick:k,className:"modal-footer__button modal-footer__button--primary",children:"Close"})})})]})}):null:C?o.jsxs("div",{className:"modal-system",children:[o.jsxs("div",{ref:be,className:"modal-container modal-container--lg",role:"dialog","aria-modal":"true","aria-labelledby":"recognition-entry-title","aria-describedby":"recognition-entry-description",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("div",{className:"modal-header__left",children:o.jsxs("div",{children:[o.jsxs("h2",{id:"recognition-entry-title",className:"modal-header__title",children:[o.jsx(p,{className:"w-5 h-5 inline mr-2",style:{color:"var(--color-primary)"}}),"Record Employee Recognition"]}),o.jsx("p",{id:"recognition-entry-description",className:"modal-header__subtitle",children:"Celebrate achievements and document positive contributions"})]})}),o.jsx("button",{onClick:k,className:"modal-header__close-button","aria-label":"Close modal",children:o.jsx(x,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"modal-content",children:o.jsx("div",{className:"modal-content__scrollable",children:o.jsxs("div",{className:"space-y-6 p-4",children:[ee&&o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded",style:{backgroundColor:"var(--color-error-bg)",border:"1px solid var(--color-error)"},children:[o.jsx(b,{className:"w-5 h-5 shrink-0 mt-0.5",style:{color:"var(--color-error)"}}),o.jsx("div",{className:"flex-1",children:o.jsx("span",{style:{color:"var(--color-text)"},children:ee})})]}),o.jsxs("div",{children:[o.jsx(n,{employees:te,selectedEmployeeId:T?.id||null,onEmployeeSelect:e=>{const r=te.find(r=>r.id===e);D(r||null),pe(e=>({...e,employee:""}))},title:"Select Employee",subtitle:"Who are you recognizing?",disabled:!!w}),ue.employee&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs",style:{color:"var(--color-error)"},children:[o.jsx(b,{className:"w-3 h-3"}),ue.employee]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"unified-section-header mb-3",children:[o.jsx("div",{className:"unified-section-header__icon",children:o.jsx(v,{className:"w-5 h-5"})}),o.jsxs("div",{className:"unified-section-header__content",children:[o.jsxs("h3",{className:"unified-section-header__title",children:["Recognition Type ",o.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),o.jsx("p",{className:"unified-section-header__subtitle",children:"What type of achievement is this?"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"cursor-pointer transition-all min-h-[48px] p-3 rounded border "+(ue.recognitionType?"border-red-500":""),style:{backgroundColor:"var(--color-input-background)",borderColor:ne?"var(--color-primary)":ue.recognitionType?"var(--color-error)":"var(--color-input-border)",boxShadow:ne?"0 0 0 2px var(--color-primary-light)":void 0},onClick:ye,children:ve?o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:ve.icon}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",style:{color:"var(--color-text)"},children:ve.label}),o.jsx("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:ve.description})]})]}),o.jsx(g,{className:"w-4 h-4 transition-transform "+(ne?"rotate-180":""),style:{color:"var(--color-text-tertiary)"}})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Select recognition type..."}),o.jsx(g,{className:"w-4 h-4",style:{color:"var(--color-text-tertiary)"}})]})}),ne&&o.jsx("div",{className:"absolute z-10 w-full mt-1 rounded-lg shadow-lg border max-h-96 overflow-y-auto",style:{backgroundColor:"var(--color-card-background)",borderColor:"var(--color-card-border)"},children:j.map(e=>o.jsx("div",{className:"p-3 cursor-pointer hover:bg-opacity-80 transition-colors border-b last:border-b-0",style:{borderColor:"var(--color-card-border)"},onClick:()=>{ge(e.id),pe(e=>({...e,recognitionType:""}))},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--color-hover)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:e.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-semibold",style:{color:"var(--color-text)"},children:e.label}),o.jsx("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:e.description})]})]})},e.id))})]}),ue.recognitionType&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs",style:{color:"var(--color-error)"},children:[o.jsx(b,{className:"w-3 h-3"}),ue.recognitionType]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:["Achievement Title ",o.jsx("span",{style:{color:"var(--color-error)"},children:"*"}),o.jsx("span",{className:"ml-2 text-xs font-normal",children:"(5-100 characters)"})]}),o.jsx("input",{type:"text",value:I,onChange:e=>{E(e.target.value),pe(e=>({...e,achievementTitle:""}))},placeholder:"e.g., Completed Major Client Project Ahead of Schedule",maxLength:100,className:"w-full h-11 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm "+(ue.achievementTitle?"border-red-500":""),style:{backgroundColor:"var(--color-input-background)",borderColor:ue.achievementTitle?"var(--color-error)":"var(--color-input-border)",color:"var(--color-text)"}}),o.jsxs("div",{className:"mt-1 flex justify-between items-center",children:[ue.achievementTitle?o.jsxs("div",{className:"flex items-center gap-1 text-xs",style:{color:"var(--color-error)"},children:[o.jsx(b,{className:"w-3 h-3"}),ue.achievementTitle]}):o.jsx("div",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:"Brief summary of the achievement"}),o.jsxs("div",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:[I.length,"/100"]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:["Achievement Description ",o.jsx("span",{style:{color:"var(--color-error)"},children:"*"}),o.jsx("span",{className:"ml-2 text-xs font-normal",children:"(minimum 20 characters)"})]}),o.jsx("textarea",{value:P,onChange:e=>{M(e.target.value),pe(e=>({...e,achievementDescription:""}))},placeholder:"Provide detailed description of what was achieved...",rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm resize-vertical "+(ue.achievementDescription?"border-red-500":""),style:{backgroundColor:"var(--color-input-background)",borderColor:ue.achievementDescription?"var(--color-error)":"var(--color-input-border)",color:"var(--color-text)"}}),ue.achievementDescription&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs",style:{color:"var(--color-error)"},children:[o.jsx(b,{className:"w-3 h-3"}),ue.achievementDescription]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:["Business Impact ",o.jsx("span",{style:{color:"var(--color-error)"},children:"*"}),o.jsx("span",{className:"ml-2 text-xs font-normal",children:"(minimum 20 characters)"})]}),o.jsx("textarea",{value:z,onChange:e=>{F(e.target.value),pe(e=>({...e,businessImpact:""}))},placeholder:"Why does this matter? What value did it create for the organization?",rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm resize-vertical "+(ue.businessImpact?"border-red-500":""),style:{backgroundColor:"var(--color-input-background)",borderColor:ue.businessImpact?"var(--color-error)":"var(--color-input-border)",color:"var(--color-text)"}}),ue.businessImpact&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs",style:{color:"var(--color-error)"},children:[o.jsx(b,{className:"w-3 h-3"}),ue.businessImpact]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:["Achievement Date ",o.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),o.jsx(c,{selectedDate:R,onDateChange:e=>{B(e),pe(e=>({...e,achievementDate:""}))},maxDate:(new Date).toISOString().split("T")[0]}),ue.achievementDate&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs",style:{color:"var(--color-error)"},children:[o.jsx(b,{className:"w-3 h-3"}),ue.achievementDate]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:["Skills Demonstrated ",o.jsx("span",{className:"text-xs font-normal",children:"(optional)"})]}),L.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:L.map(e=>o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 border border-blue-300",children:[o.jsx(y,{className:"w-3 h-3"}),e,o.jsx("button",{onClick:()=>je(e),className:"ml-1 hover:text-blue-900","aria-label":`Remove ${e}`,children:o.jsx(x,{className:"w-3 h-3"})})]},e))}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{type:"button",onClick:()=>he(!xe),className:"w-full h-11 px-3 py-2 border rounded-lg text-left flex items-center justify-between text-sm",style:{backgroundColor:"var(--color-input-background)",borderColor:"var(--color-input-border)",color:"var(--color-text)"},children:[o.jsx("span",{children:"Select skills..."}),o.jsx(g,{className:"w-4 h-4 transition-transform "+(xe?"rotate-180":"")})]}),xe&&o.jsx("div",{className:"absolute z-10 w-full mt-1 rounded-lg shadow-lg border max-h-64 overflow-y-auto",style:{backgroundColor:"var(--color-card-background)",borderColor:"var(--color-card-border)"},children:f.map(e=>o.jsxs("label",{className:"flex items-center gap-3 p-3 cursor-pointer hover:bg-opacity-80 transition-colors border-b last:border-b-0",style:{borderColor:"var(--color-card-border)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--color-hover)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[o.jsx("input",{type:"checkbox",checked:L.includes(e),onChange:()=>je(e),className:"w-4 h-4 rounded border-gray-300 text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",style:{color:"var(--color-text)"},children:e})]},e))})]}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsx("input",{type:"text",value:U,onChange:e=>W(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),fe())},placeholder:"Add custom skill...",className:"flex-1 h-9 px-3 py-2 border rounded-lg text-sm",style:{backgroundColor:"var(--color-input-background)",borderColor:"var(--color-input-border)",color:"var(--color-text)"}}),o.jsx("button",{type:"button",onClick:fe,disabled:!U.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium mb-3",style:{color:"var(--color-text-secondary)"},children:["Recognition Given ",o.jsx("span",{className:"text-xs font-normal",children:"(optional)"})]}),o.jsx("div",{className:"space-y-2",children:N.map(e=>o.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-colors",style:{backgroundColor:$.includes(e.id)?"var(--color-primary-light)":"var(--color-input-background)",borderColor:$.includes(e.id)?"var(--color-primary)":"var(--color-input-border)"},children:[o.jsx("input",{type:"checkbox",checked:$.includes(e.id),onChange:()=>Ne(e.id),className:"w-4 h-4 rounded border-gray-300 text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-xl",children:e.icon}),o.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:e.label})]},e.id))}),$.includes("other")&&o.jsxs("div",{className:"mt-3",children:[o.jsx("input",{type:"text",value:K,onChange:e=>{Y(e.target.value),pe(e=>({...e,recognitionOtherDetails:""}))},placeholder:"Please specify other recognition details...",className:"w-full h-11 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm "+(ue.recognitionOtherDetails?"border-red-500":""),style:{backgroundColor:"var(--color-input-background)",borderColor:ue.recognitionOtherDetails?"var(--color-error)":"var(--color-input-border)",color:"var(--color-text)"}}),ue.recognitionOtherDetails&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs",style:{color:"var(--color-error)"},children:[o.jsx(b,{className:"w-3 h-3"}),ue.recognitionOtherDetails]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:["Future Goals & Stretch Targets ",o.jsx("span",{className:"text-xs font-normal",children:"(optional)"})]}),o.jsx("textarea",{value:H,onChange:e=>J(e.target.value),placeholder:"Any stretch targets or next challenges discussed...",rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm resize-vertical",style:{backgroundColor:"var(--color-input-background)",borderColor:"var(--color-input-border)",color:"var(--color-text)"}})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:["Manager Comments ",o.jsx("span",{className:"text-xs font-normal",children:"(optional)"})]}),o.jsx("textarea",{value:Q,onChange:e=>V(e.target.value),placeholder:"Additional notes or comments...",rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm resize-vertical",style:{backgroundColor:"var(--color-input-background)",borderColor:"var(--color-input-border)",color:"var(--color-text)"}})]})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsxs("div",{className:"modal-footer__nav",children:[o.jsx("button",{onClick:k,disabled:X,className:"modal-footer__button modal-footer__button--secondary",children:"Cancel"}),o.jsx("button",{onClick:async()=>{if(Ce()&&_&&T&&S?.id)try{Z(!0),re(null);const e={organizationId:S.id,managerId:_.id,managerName:`${_.firstName} ${_.lastName}`,employeeId:T.id,employeeName:`${T.firstName} ${T.lastName}`,employeeNumber:T.employeeNumber||void 0,recognitionType:A,achievementTitle:I.trim(),achievementDescription:P.trim(),businessImpact:z.trim(),achievementDate:R,skillsDemonstrated:L,recognitionGiven:$,recognitionOtherDetails:K.trim()||void 0,futureGoals:H.trim()||void 0,managerComments:Q.trim()||void 0,createdAt:a.getServerTimestamp(),updatedAt:a.getServerTimestamp()},r=Object.fromEntries(Object.entries(e).filter(([e,r])=>void 0!==r));await l.createDocument(S.id,"recognitions",r),se(!0),ie(!0),setTimeout(()=>{ie(!1)},3e3),setTimeout(()=>{k()},3e3)}catch(e){t.error("Failed to submit recognition:",e),re("Failed to submit recognition. Please try again.")}finally{Z(!1)}},disabled:X,className:"modal-footer__button modal-footer__button--primary",style:{backgroundColor:X?"var(--color-primary-hover)":"var(--color-primary)"},children:X?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(h,{className:"w-4 h-4 mr-2"}),"Record Recognition"]})})]})})]}),de&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black bg-opacity-50",children:o.jsxs("div",{className:"w-full max-h-[70vh] rounded-t-2xl overflow-hidden",style:{backgroundColor:"var(--color-card-background)"},children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between",style:{borderColor:"var(--color-card-border)"},children:[o.jsx("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Select Recognition Type"}),o.jsx("button",{onClick:()=>me(!1),"aria-label":"Close",children:o.jsx(x,{className:"w-5 h-5",style:{color:"var(--color-text)"}})})]}),o.jsx("div",{className:"overflow-y-auto max-h-[calc(70vh-60px)]",children:j.map(e=>o.jsx("div",{className:"p-4 cursor-pointer border-b last:border-b-0 active:bg-opacity-70",style:{borderColor:"var(--color-card-border)"},onClick:()=>{ge(e.id),pe(e=>({...e,recognitionType:""}))},children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-3xl",children:e.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:e.label}),o.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:e.description})]})]})},e.id))})]})})]}):null};export{C as RecognitionEntry};
