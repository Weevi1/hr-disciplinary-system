const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-components-CEqYUp5t.js","assets/react-vendor-DrdoFN08.js","assets/firebase-vendor-Cz3N8Xg7.js","assets/pdf-vendor-Bp5yZ91a.js","assets/ui-vendor-D5iFg9Jt.js","assets/warning-components-BmrOpsKb.js","assets/dashboard-components-C_k93BT0.css","assets/MyClients-DhaKwib4.js","assets/BookHRMeeting-DKUAtP-U.js","assets/ReportAbsence-BDqQvzXY.js","assets/AbsenceReportReview-CY2Yvw_i.js","assets/HRMeetingReview-C4edOqi1.js","assets/CounsellingDashboard-CIGG7nNh.js"])))=>i.map(i=>d[i]);
import{j as e,O as J,d as R,u as w,T as I,e as Y,g as z,L as x,f as q,D as X,h as Q,A as K,i as $,k as ee}from"./dashboard-components-CEqYUp5t.js";import{e as re,r as c,u as G,R as y,B as se,f as te,h as m,N,O as ne}from"./react-vendor-DrdoFN08.js";import{a as j}from"./pdf-vendor-Bp5yZ91a.js";import{aN as ae,b as L,S as oe,p as ie,E as le,c as ce,f as A,aO as de,R as T,aP as me,X as ue,I as O,aB as he,C as ge}from"./ui-vendor-D5iFg9Jt.js";import"./firebase-vendor-Cz3N8Xg7.js";import"./warning-components-BmrOpsKb.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var C={},M;function xe(){if(M)return C;M=1;var r=re();return C.createRoot=r.createRoot,C.hydrateRoot=r.hydrateRoot,C}var pe=xe();const be="data:image/png;base64,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",P="/assets/logo-128-DoRJekSn.png",fe="/assets/logo-256-ENpJRTp-.png",ye={small:{src:be,className:"w-8 h-6",width:32,height:26},medium:{src:P,className:"w-12 h-9",width:48,height:39},large:{src:P,className:"w-20 h-16",width:80,height:64},xlarge:{src:fe,className:"w-32 h-26",width:128,height:103}},S=({size:r="medium",className:s="",showText:t=!1})=>{const n=ye[r];return e.jsxs("div",{className:`flex flex-col items-center ${s}`,children:[e.jsx("img",{src:n.src,alt:"File Logo",className:`${n.className} flex-shrink-0 object-contain`,width:n.width,height:n.height,loading:"lazy",onError:a=>{console.warn("Logo image failed to load, using fallback");const o=a.target,l=o.nextElementSibling;o.style.display="none",l?.classList.remove("hidden")}}),e.jsx("div",{className:"hidden text-center",children:e.jsx("span",{className:"font-bold text-gray-800 text-lg",children:"<File>"})}),t&&e.jsx("span",{className:"text-xs text-gray-600 mt-2",children:"by Fifo"})]})},je={small:"w-8 h-8",medium:"w-12 h-12",large:"w-16 h-16",xlarge:"w-24 h-24"},F=({size:r="medium",className:s="",showText:t=!1,showSystemLogo:n=!1})=>{const o=c.useContext(J)?.organization||null,l=je[r],g=o?.branding?.logo&&!n,b=o?.branding?.companyName||o?.name||"Filing System";return g?e.jsxs("div",{className:`flex items-center gap-3 ${s}`,children:[e.jsx("img",{src:o.branding.logo,alt:`${b} Logo`,className:`${l} flex-shrink-0 object-contain rounded-md`,onError:p=>{console.warn("Organization logo failed to load, falling back to system <File> logo");const i=p.target,d=i.nextElementSibling;i.style.display="none",d?.classList.remove("hidden")}}),e.jsx("div",{className:"hidden",children:e.jsx(S,{size:r,showText:!1})}),t&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold text-gray-800",children:b}),e.jsx("span",{className:"text-xs text-gray-600",children:"by Fifo"})]})]}):e.jsx(S,{size:r,className:s,showText:t})},ve=c.createContext(null),we=({children:r})=>{const{organization:s}=R(),t=c.useMemo(()=>{const n={primaryColor:"#3b82f6",secondaryColor:"#6366f1",accentColor:"#10b981"},a=s?.branding?{primaryColor:s.branding.primaryColor||n.primaryColor,secondaryColor:s.branding.secondaryColor||n.secondaryColor,accentColor:s.branding.accentColor||n.accentColor}:n,o=s?.branding?.logo||null,l=s?.branding?.companyName||s?.name||"HR System";return{logo:o,companyName:l,colors:a,applyBrandingStyles:()=>{const i=document.documentElement;i.style.setProperty("--brand-primary",a.primaryColor),i.style.setProperty("--brand-secondary",a.secondaryColor),i.style.setProperty("--brand-accent",a.accentColor),i.style.setProperty("--brand-primary-hover",k(a.primaryColor,-10)),i.style.setProperty("--brand-primary-light",k(a.primaryColor,40)),i.style.setProperty("--brand-secondary-hover",k(a.secondaryColor,-10)),i.style.setProperty("--brand-accent-hover",k(a.accentColor,-10))},getBrandedButtonClass:i=>{const d="px-4 py-2 rounded-lg font-medium text-white transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2";switch(i){case"primary":return`${d} branded-btn-primary`;case"secondary":return`${d} branded-btn-secondary`;case"accent":return`${d} branded-btn-accent`;default:return d}},getBrandedBadgeStyle:(i="default")=>{const d={display:"inline-flex",alignItems:"center",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",color:"white"};switch(i){case"success":return{...d,backgroundColor:a.accentColor};case"warning":return{...d,backgroundColor:"#f59e0b",color:"white"};case"error":return{...d,backgroundColor:"#ef4444",color:"white"};default:return{...d,backgroundColor:a.primaryColor}}}}},[s]);return c.useEffect(()=>{t.applyBrandingStyles()},[t]),e.jsx(ve.Provider,{value:t,children:r})};function k(r,s){const t=r[0]==="#",n=t?r.slice(1):r,a=parseInt(n,16);let o=(a>>16)+s,l=(a>>8&255)+s,g=(a&255)+s;return o=o>255?255:o<0?0:o,l=l>255?255:l<0?0:l,g=g>255?255:g<0?0:g,(t?"#":"")+(o<<16|l<<8|g).toString(16).padStart(6,"0")}const Ne=(r,s)=>{r&&(document.documentElement.style.setProperty("--brand-primary",r),document.documentElement.style.setProperty("--brand-primary-light",D(r,20)),document.documentElement.style.setProperty("--brand-primary-dark",B(r,20))),s&&(document.documentElement.style.setProperty("--brand-secondary",s),document.documentElement.style.setProperty("--brand-secondary-light",D(s,20)),document.documentElement.style.setProperty("--brand-secondary-dark",B(s,20)))},D=(r,s)=>{if(!r.startsWith("#"))return r;const t=parseInt(r.replace("#",""),16),n=Math.round(2.55*s),a=(t>>16)+n,o=(t>>8&255)+n,l=(t&255)+n;return"#"+(16777216+(a<255?a<1?0:a:255)*65536+(o<255?o<1?0:o:255)*256+(l<255?l<1?0:l:255)).toString(16).slice(1)},B=(r,s)=>{if(!r.startsWith("#"))return r;const t=parseInt(r.replace("#",""),16),n=Math.round(2.55*s),a=(t>>16)-n,o=(t>>8&255)-n,l=(t&255)-n;return"#"+(16777216+(a>255?255:a<0?0:a)*65536+(o>255?255:o<0?0:o)*256+(l>255?255:l<0?0:l)).toString(16).slice(1)},W=({children:r,onNavigate:s,currentView:t="dashboard"})=>{const{user:n,logout:a}=w(),o=n?.role?.id==="super-user"||n?.role?.id==="reseller"?null:R()?.organization;G();const[l,g]=c.useState(!1);c.useEffect(()=>{o?.branding&&Ne(o.branding.primaryColor,o.branding.secondaryColor)},[o?.branding]);const b=()=>n?.role?.id==="super-user"?[{id:"user-management",label:"User Management",icon:L},{id:"settings",label:"Settings",icon:oe}]:n?.role?.id==="reseller"?[{id:"client-management",label:"My Clients",icon:L}]:[],p=()=>e.jsx("header",{className:"border-b sticky top-0 z-30",style:{backgroundColor:"var(--color-nav-bg)",borderColor:"var(--color-border)"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2 sm:px-6 sm:py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 sm:space-x-6",children:[e.jsxs("button",{onClick:()=>s?.("dashboard"),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[e.jsx(F,{size:"small",showText:!1,className:"sm:hidden"}),e.jsx(F,{size:"small",showText:!0,className:"hidden sm:flex"})]}),e.jsx("nav",{className:"hidden md:flex items-center space-x-1",children:b().map(i=>{const d=t===i.id;return e.jsxs("button",{onClick:()=>s?.(i.id),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200",style:d?{background:"linear-gradient(to right, var(--color-primary), var(--color-primary-hover))",color:"var(--color-text-inverse)",boxShadow:"var(--shadow-sm)"}:{color:"var(--color-nav-text)",backgroundColor:"transparent"},onMouseEnter:h=>{d||(h.currentTarget.style.backgroundColor="var(--color-nav-hover)",h.currentTarget.style.color="var(--color-emphasis)")},onMouseLeave:h=>{d||(h.currentTarget.style.backgroundColor="transparent",h.currentTarget.style.color="var(--color-nav-text)")},children:[e.jsx(i.icon,{className:"w-3 h-3"}),e.jsx("span",{children:i.label})]},i.id)})})]}),o?.name&&e.jsx("div",{className:"flex flex-1 justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-sm font-semibold",style:{color:"var(--color-text)"},children:o.name})})}),e.jsx("div",{className:"flex items-center gap-2 sm:gap-3",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>g(!l),className:"flex items-center gap-1.5 sm:gap-2 p-1.5 rounded-lg transition-colors",style:{minHeight:"40px"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor="var(--color-nav-hover)"},onMouseLeave:i=>{i.currentTarget.style.backgroundColor="transparent"},children:[e.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-gradient-to-r from-slate-500 to-slate-600 rounded-full flex items-center justify-center text-xs font-medium text-white",children:n?.firstName?.charAt(0)||"U"}),e.jsxs("div",{className:"hidden sm:block text-left",children:[e.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:[n?.firstName," ",n?.lastName]}),e.jsx("div",{className:"text-xs",style:{color:"var(--color-text-tertiary)"},children:n?.role?.name||n?.role?.id?.replace("-"," ").replace(/\b\w/g,i=>i.toUpperCase())})]})]}),l&&e.jsxs("div",{className:`absolute right-0 top-12 w-56 sm:w-64 py-1.5 sm:py-2 z-50 ${z?.browserInfo?.isAndroid4x?"bg-white border border-gray-200 rounded legacy-simple-layout":"rounded-xl"}`,style:z?.browserInfo?.isAndroid4x?{}:{backgroundColor:"var(--color-card-background)",boxShadow:"var(--shadow-lg)",border:"1px solid var(--color-card-border)"},children:[e.jsx("div",{className:"px-3 py-2 sm:px-4 sm:py-3 border-b",style:{borderColor:"var(--color-border)"},children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-sm font-medium text-white",style:{background:"linear-gradient(to right, var(--color-primary), var(--color-primary-hover))"},children:n?.firstName?.charAt(0)||"U"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"font-medium text-sm sm:text-base truncate",style:{color:"var(--color-text)"},children:[n?.firstName," ",n?.lastName]}),e.jsx("div",{className:"text-xs sm:text-sm truncate",style:{color:"var(--color-text-secondary)"},children:n?.email})]})]})}),e.jsxs("div",{className:"py-1 sm:py-2",children:[b().map(i=>{const d=t===i.id;return e.jsxs("button",{onClick:()=>{s?.(i.id),g(!1)},className:"w-full flex items-center gap-2 sm:gap-3 px-3 py-2.5 sm:px-4 sm:py-2 text-sm transition-colors",style:{color:d?"var(--color-primary)":"var(--color-text-secondary)",backgroundColor:d?"var(--color-primary-bg)":"transparent",minHeight:"44px"},onMouseEnter:h=>{d||(h.currentTarget.style.backgroundColor="var(--color-nav-hover)",h.currentTarget.style.color="var(--color-text)")},onMouseLeave:h=>{d||(h.currentTarget.style.backgroundColor="transparent",h.currentTarget.style.color="var(--color-text-secondary)")},children:[e.jsx(i.icon,{className:"w-4 h-4"}),e.jsx("span",{children:i.label})]},i.id)}),b().length>0&&e.jsx("div",{className:"border-t mx-2 my-1",style:{borderColor:"var(--color-border)"}}),e.jsxs("button",{onClick:a,className:"w-full flex items-center gap-2 sm:gap-3 px-3 py-2.5 sm:px-4 sm:py-2 text-sm transition-colors",style:{color:"var(--color-text-secondary)",minHeight:"44px"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor="var(--color-alert-error-bg)",i.currentTarget.style.color="var(--color-alert-error-text)"},onMouseLeave:i=>{i.currentTarget.style.backgroundColor="transparent",i.currentTarget.style.color="var(--color-text-secondary)"},children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign out"})]})]})]})]})})]})})});return e.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-background)"},children:[e.jsx(p,{}),e.jsx("main",{id:"main-content",className:"min-h-screen",role:"main",style:{backgroundColor:"var(--color-background)"},children:r})]})},Ae=({children:r,onNavigate:s,currentView:t})=>{const{user:n}=w();return n?.role?.id==="super-user"||n?.role?.id==="reseller"||!n?.organizationId?e.jsx(I,{children:e.jsx(W,{onNavigate:s,currentView:t,children:r})}):e.jsx(Y,{organizationId:n.organizationId,children:e.jsx(I,{children:e.jsx(we,{children:e.jsx(W,{onNavigate:s,currentView:t,children:r})})})})},Ce=({onSuccess:r})=>{const{login:s,loading:t}=w(),[n,a]=c.useState(""),[o,l]=c.useState(""),[g,b]=c.useState(""),[p,i]=c.useState(!1),d=async h=>{h.preventDefault(),b("");try{await s(n,o),r?.()}catch(v){b(v instanceof Error?v.message:"Login failed")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md mx-auto min-h-[80vh] flex items-center",children:e.jsxs("div",{className:"w-full bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-white px-8 pt-8 pb-6 text-center border-b border-gray-100",children:[e.jsx("div",{className:"mb-4",children:e.jsx(S,{size:"xlarge",showText:!0})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Online File Creation and Filing System"})]}),e.jsx("div",{className:"px-8 py-6",children:e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:n,onChange:h=>a(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:p?"text":"password",value:o,onChange:h=>l(h.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password",required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!p),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:p?e.jsx(ie,{className:"w-4 h-4"}):e.jsx(le,{className:"w-4 h-4"})})]})]}),g&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ce,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsx("p",{className:"text-sm text-red-700",children:g})]})}),e.jsx("button",{type:"submit",disabled:t,className:`w-full flex items-center justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white transition-colors ${t?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:t?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]})}),e.jsx("div",{className:"px-8 py-4 bg-gray-50 border-t border-gray-100",children:e.jsx("p",{className:"text-xs text-center text-gray-500",children:"Streamlined Digital Filing Solutions"})})]})})})};class ke{static{this.MAX_LOCAL_ERRORS=100}static{this.LOCAL_STORAGE_KEY="hr_system_errors"}static async trackComponentError(s,t,n,a){const o={message:s.message,stack:s.stack,componentStack:t.componentStack,errorId:n,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:this.getCurrentUserId(),organizationId:this.getCurrentOrganizationId(),errorType:"component",severity:this.determineSeverity(s),context:a,breadcrumbs:this.getBreadcrumbs()};await this.sendToTrackingServices(o)}static async trackNetworkError(s,t,n,a){const o={message:s.message||"Network error occurred",stack:s.stack,errorId:`net_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:this.getCurrentUserId(),organizationId:this.getCurrentOrganizationId(),errorType:"network",severity:s.code==="permission-denied"?"critical":"high",context:{...a,endpoint:t,operation:n,errorCode:s.code},breadcrumbs:this.getBreadcrumbs()};await this.sendToTrackingServices(o)}static async trackGeneralError(s,t="unknown",n="medium",a){const o={message:s.message,stack:s.stack,errorId:`gen_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:this.getCurrentUserId(),organizationId:this.getCurrentOrganizationId(),errorType:t,severity:n,context:a,breadcrumbs:this.getBreadcrumbs()};await this.sendToTrackingServices(o)}static async sendToTrackingServices(s){try{this.storeErrorLocally(s),await this.sendToExternalServices(s),await this.sendToFirebaseAnalytics(s),x.debug(`üìä Error ${s.errorId} successfully tracked`)}catch(t){x.error("‚ùå Failed to track error:",t),this.storeErrorLocally(s)}}static storeErrorLocally(s){try{const t=this.getLocalErrors();t.push(s),t.length>this.MAX_LOCAL_ERRORS&&t.splice(0,t.length-this.MAX_LOCAL_ERRORS),localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(t))}catch(t){x.warn("‚ö†Ô∏è Failed to store error locally:",t)}}static async sendToExternalServices(s){x.debug("üîå External error tracking services ready for configuration")}static async sendToFirebaseAnalytics(s){try{typeof window<"u"&&window.gtag&&window.gtag("event","exception",{description:s.message,fatal:s.severity==="critical",error_id:s.errorId,error_type:s.errorType,organization_id:s.organizationId,custom_parameters:{severity:s.severity,url:s.url,timestamp:s.timestamp}})}catch(t){x.warn("‚ö†Ô∏è Failed to send to Firebase Analytics:",t)}}static getLocalErrors(){try{const s=localStorage.getItem(this.LOCAL_STORAGE_KEY);return s?JSON.parse(s):[]}catch(s){return x.warn("‚ö†Ô∏è Failed to parse local errors:",s),[]}}static clearLocalErrors(){try{localStorage.removeItem(this.LOCAL_STORAGE_KEY),x.debug("üßπ Local error storage cleared")}catch(s){x.warn("‚ö†Ô∏è Failed to clear local errors:",s)}}static getErrorStats(){const s=this.getLocalErrors(),t=new Date(Date.now()-1440*60*1e3),n={},a={},o=[];return s.forEach(l=>{n[l.errorType]=(n[l.errorType]||0)+1,a[l.severity]=(a[l.severity]||0)+1,new Date(l.timestamp)>t&&o.push(l)}),{total:s.length,byType:n,bySeverity:a,recent:o.slice(-10)}}static getCurrentUserId(){return localStorage.getItem("userId")||sessionStorage.getItem("userId")||"anonymous"}static getCurrentOrganizationId(){return localStorage.getItem("organizationId")||sessionStorage.getItem("organizationId")||void 0}static determineSeverity(s){const t=s.message.toLowerCase();return t.includes("permission")||t.includes("unauthorized")?"critical":t.includes("network")||t.includes("fetch")?"high":t.includes("render")||t.includes("component")?"medium":"low"}static getBreadcrumbs(){const s=[];if(s.push(window.location.pathname),document.referrer)try{const t=new URL(document.referrer);s.unshift(t.pathname)}catch{}return s.slice(0,5)}}var Ee={};class E extends c.Component{constructor(s){super(s),this.logErrorToService=async(t,n)=>{try{await ke.trackComponentError(t,n,this.state.errorId,{componentName:this.constructor.name,props:Object.keys(this.props),timestamp:new Date().toISOString(),buildVersion:Ee.REACT_APP_VERSION||"unknown"}),x.debug(`üìä Error ${this.state.errorId} tracked successfully`)}catch(a){x.error("‚ùå Failed to track error:",a),x.error("üö® Original error:",t),x.error("üìç Component stack:",n.componentStack)}},this.handleRefresh=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"},this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:""})},this.state={hasError:!1,error:null,errorInfo:null,errorId:""}}static getDerivedStateFromError(s){return{hasError:!0,error:s,errorId:`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}componentDidCatch(s,t){this.logErrorToService(s,t),this.setState({error:s,errorInfo:t}),this.props.onError&&this.props.onError(s,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-lg border border-slate-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mx-auto mb-4",children:e.jsx(A,{className:"w-8 h-8 text-red-600"})}),e.jsx("h1",{className:"text-xl font-bold text-slate-900 text-center mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-slate-600 text-center mb-6",children:"We encountered an unexpected error. Our team has been notified and is working on a fix."}),e.jsx("div",{className:"bg-slate-100 rounded-lg p-3 mb-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-mono",children:["Error ID: ",this.state.errorId]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:this.handleRetry,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Try Again"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:this.handleRefresh,className:"bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Refresh"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx(me,{className:"w-4 h-4"}),"Home"]})]})]}),(this.props.showDetails||!1)&&this.state.error&&e.jsxs("details",{className:"mt-6 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("summary",{className:"px-4 py-2 text-sm font-medium text-red-800 cursor-pointer hover:bg-red-100",children:"Technical Details (Debug)"}),e.jsxs("div",{className:"px-4 pb-4 text-xs",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{className:"text-red-800",children:"Error:"}),e.jsx("pre",{className:"mt-1 bg-red-100 p-2 rounded text-red-900 overflow-auto",children:this.state.error.message})]}),this.state.error.stack&&e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{className:"text-red-800",children:"Stack Trace:"}),e.jsx("pre",{className:"mt-1 bg-red-100 p-2 rounded text-red-900 overflow-auto max-h-40",children:this.state.error.stack})]}),this.state.errorInfo?.componentStack&&e.jsxs("div",{children:[e.jsx("strong",{className:"text-red-800",children:"Component Stack:"}),e.jsx("pre",{className:"mt-1 bg-red-100 p-2 rounded text-red-900 overflow-auto max-h-40",children:this.state.errorInfo.componentStack})]})]})]})]})}):this.props.children}}const _=({children:r})=>e.jsx(E,{fallback:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 m-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800 mb-2",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("h3",{className:"font-semibold",children:"Warning System Error"})]}),e.jsx("p",{className:"text-red-700 text-sm mb-3",children:"There was an error loading the warning management system. Please try refreshing the page."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-medium",children:"Refresh Page"})]}),children:r}),Se=({children:r})=>e.jsx(E,{fallback:e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 m-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-orange-800 mb-2",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("h3",{className:"font-semibold",children:"Employee Management Error"})]}),e.jsx("p",{className:"text-orange-700 text-sm mb-3",children:"There was an error loading the employee management system. Please try refreshing the page."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded text-sm font-medium",children:"Refresh Page"})]}),children:r}),Re=({children:r})=>e.jsx(E,{fallback:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 m-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-2",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("h3",{className:"font-semibold",children:"Dashboard Error"})]}),e.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"There was an error loading the dashboard. You can try refreshing or navigate to a different section."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium",children:"Refresh"}),e.jsx("button",{onClick:()=>window.location.href="/",className:"bg-slate-600 hover:bg-slate-700 text-white px-4 py-2 rounded text-sm font-medium",children:"Go Home"})]})]}),children:r}),Ie=({toast:r,onClose:s})=>{const[t,n]=c.useState(!1),[a,o]=c.useState(!1);c.useEffect(()=>{const p=setTimeout(()=>n(!0),50),i=setTimeout(()=>{l()},r.duration||5e3);return()=>{clearTimeout(p),clearTimeout(i)}},[r.duration]);const l=()=>{o(!0),setTimeout(()=>{s(r.id)},300)},g=()=>{switch(r.type){case"success":return e.jsx(ge,{className:"h-6 w-6 text-green-400","aria-hidden":"true"});case"error":return e.jsx(he,{className:"h-6 w-6 text-red-400","aria-hidden":"true"});case"warning":return e.jsx(A,{className:"h-6 w-6 text-yellow-400","aria-hidden":"true"});case"info":return e.jsx(O,{className:"h-6 w-6 text-blue-400","aria-hidden":"true"});default:return e.jsx(O,{className:"h-6 w-6 text-blue-400","aria-hidden":"true"})}},b=()=>{switch(r.type){case"success":return"border-green-200 bg-green-50";case"error":return"border-red-200 bg-red-50";case"warning":return"border-yellow-200 bg-yellow-50";case"info":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-white"}};return e.jsx("div",{"data-testid":"toast",className:`
        transform transition-all duration-300 ease-in-out mb-4
        ${t&&!a?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        ${a?"scale-95":"scale-100"}
      `,children:e.jsx("div",{className:`max-w-sm w-full border rounded-lg shadow-lg p-4 ${b()}`,children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:g()}),e.jsxs("div",{className:"ml-3 w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r.message}),r.actions&&r.actions.length>0&&e.jsx("div",{className:"mt-3 flex space-x-2",children:r.actions.map((p,i)=>e.jsx("button",{type:"button",onClick:()=>{p.action(),l()},className:`
                      text-sm font-medium rounded-md px-3 py-1 focus:outline-none focus:ring-2 focus:ring-offset-2
                      ${r.type==="error"?"text-red-800 bg-red-100 hover:bg-red-200 focus:ring-red-500":r.type==="warning"?"text-yellow-800 bg-yellow-100 hover:bg-yellow-200 focus:ring-yellow-500":r.type==="success"?"text-green-800 bg-green-100 hover:bg-green-200 focus:ring-green-500":"text-blue-800 bg-blue-100 hover:bg-blue-200 focus:ring-blue-500"}
                    `,children:p.label},i))})]}),e.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:e.jsxs("button",{type:"button",className:"rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:l,children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(ue,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})})},ze=c.createContext(null),Le=({children:r})=>{const[s,t]=c.useState([]),n=c.useCallback(i=>{const d=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,h={...i,id:d};return t(v=>[...v,h]),x.debug("üîî Showing toast:",h),d},[]),a=c.useCallback((i,d)=>n({title:i,message:d,type:"success",duration:4e3}),[n]),o=c.useCallback((i,d,h)=>n({title:i,message:d,type:"error",actions:h,duration:7e3}),[n]),l=c.useCallback((i,d)=>n({title:i,message:d,type:"warning",duration:5e3}),[n]),g=c.useCallback((i,d)=>n({title:i,message:d,type:"info",duration:5e3}),[n]),b=c.useCallback(i=>{t(d=>d.filter(h=>h.id!==i)),x.debug("üóëÔ∏è Removed toast:",i)},[]),p={showToast:n,showSuccess:a,showError:o,showWarning:l,showInfo:g};return e.jsxs(ze.Provider,{value:p,children:[r,e.jsx(Te,{toasts:s,onRemoveToast:b})]})},Te=({toasts:r,onRemoveToast:s})=>r.length===0?null:e.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-50",children:e.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:r.map(t=>e.jsx("div",{className:"pointer-events-auto",children:e.jsx(Ie,{toast:t,onClose:s})},t.id))})}),Oe=y.lazy(()=>j(()=>import("./dashboard-components-CEqYUp5t.js").then(r=>r.v),__vite__mapDeps([0,1,2,3,4,5,6])).then(r=>({default:r.EnhancedWarningWizard}))),Me=y.lazy(()=>j(()=>import("./dashboard-components-CEqYUp5t.js").then(r=>r.t),__vite__mapDeps([0,1,2,3,4,5,6])).then(r=>({default:r.EmployeeManagement}))),Pe=y.lazy(()=>j(()=>import("./dashboard-components-CEqYUp5t.js").then(r=>r.U),__vite__mapDeps([0,1,2,3,4,5,6])).then(r=>({default:r.UserManagement})));y.lazy(()=>j(()=>import("./dashboard-components-CEqYUp5t.js").then(r=>r.w),__vite__mapDeps([0,1,2,3,4,5,6])).then(r=>({default:r.ResellerDashboard})));const Fe=y.lazy(()=>j(()=>import("./MyClients-DhaKwib4.js"),__vite__mapDeps([7,0,1,2,3,4,5,6])).then(r=>({default:r.MyClients}))),De=y.lazy(()=>j(()=>import("./dashboard-components-CEqYUp5t.js").then(r=>r.R),__vite__mapDeps([0,1,2,3,4,5,6])).then(r=>({default:r.ResellerManagement}))),U=y.lazy(()=>j(()=>import("./dashboard-components-CEqYUp5t.js").then(r=>r.E),__vite__mapDeps([0,1,2,3,4,5,6])).then(r=>({default:r.EnhancedOrganizationWizard}))),Be=y.lazy(()=>j(()=>import("./BookHRMeeting-DKUAtP-U.js"),__vite__mapDeps([8,0,1,2,3,4,5,6])).then(r=>({default:r.BookHRMeeting}))),We=y.lazy(()=>j(()=>import("./ReportAbsence-BDqQvzXY.js"),__vite__mapDeps([9,0,1,2,3,4,5,6])).then(r=>({default:r.ReportAbsence}))),_e=y.lazy(()=>j(()=>import("./AbsenceReportReview-CY2Yvw_i.js"),__vite__mapDeps([10,0,1,2,3,4,5,6])).then(r=>({default:r.AbsenceReportReview}))),Ue=y.lazy(()=>j(()=>import("./HRMeetingReview-C4edOqi1.js"),__vite__mapDeps([11,0,1,2,3,4,5,6])).then(r=>({default:r.HRMeetingReview}))),Ge=y.lazy(()=>j(()=>import("./CounsellingDashboard-CIGG7nNh.js"),__vite__mapDeps([12,0,1,2,3,4,5,6])).then(r=>({default:r.CounsellingDashboard}))),He=y.lazy(()=>j(()=>import("./warning-components-BmrOpsKb.js"),__vite__mapDeps([5,0,1,2,3,4,6]))),Ve=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("img",{src:"/logo-128.png",alt:"File Logo",className:"w-20 h-16 mx-auto object-contain mb-4",onError:r=>{r.target.style.display="none",r.target.nextElementSibling?.classList.remove("hidden")}}),e.jsx("div",{className:"hidden",children:e.jsx("span",{className:"font-bold text-gray-800 text-lg",children:"<File>"})}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"by Fifo"})]}),e.jsx("div",{className:"w-8 h-8 border-3 border-gray-300 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading your filing system..."})]})}),f=({text:r="Loading..."})=>e.jsx("div",{className:"flex items-center justify-center min-h-96 bg-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-300 border-t-blue-600 rounded-full animate-spin mb-2"}),e.jsx("p",{className:"text-gray-600 text-sm",children:r})]})}),Ze=({error:r})=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"text-6xl mb-4 text-red-500",children:"‚ö†Ô∏è"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:r}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}),Je=()=>{const{user:r}=w(),s=G(),t=r?.role!=="reseller"&&r?.role!=="super-user",{organization:n}=t?R():{organization:null},[a,o]=c.useState([]),[l,g]=c.useState([]),[b,p]=c.useState(!0),[i,d]=c.useState(null);return c.useEffect(()=>{(async()=>{if(!n?.id){x.debug("‚è≥ Waiting for organization to load...");return}x.debug(3931),p(!0),d(null);try{const[v,H]=await Promise.all([K.employees.getAll(n.id),$.getWarningCategories(n.id)]);x.success(4219),x.success(4286);const V=v.map(u=>({id:u.id,firstName:u.firstName||u.profile?.firstName||"Unknown",lastName:u.lastName||u.profile?.lastName||"Employee",position:u.position||u.employment?.position||"Unknown Position",department:u.department||u.profile?.department||u.employment?.department||"Unknown",email:u.email||u.profile?.email||u.contact?.email||"",phone:u.phone||u.profile?.phone||u.contact?.phone||"",deliveryPreference:u.deliveryPreference||"email",recentWarnings:u.recentWarnings||{count:0},riskIndicators:u.riskIndicators||{highRisk:!1,reasons:[]}})),Z=H.map(u=>({id:u.id,name:u.name,severity:u.severity||"medium",description:u.description||"",lraSection:u.lraSection||"LRA Section 188",schedule8Reference:u.schedule8Reference||"Schedule 8",escalationPath:u.escalationPath||["verbal_warning","first_written","final_written"]}));o(V),g(Z)}catch(v){x.error("‚ùå Error loading warning wizard data:",v),d("Failed to load warning wizard data. Please try again.")}finally{p(!1)}})()},[n?.id]),b?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading warning wizard..."})]})}):i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"text-4xl mb-4 text-red-500",children:"‚ö†Ô∏è"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Wizard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:i}),e.jsx("button",{onClick:()=>s("/dashboard"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Return to Dashboard"})]})}):e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Warning Wizard..."}),children:e.jsx(Oe,{employees:a,categories:l,currentManagerName:`${r?.firstName||""} ${r?.lastName||""}`.trim()||"Manager",organizationName:n?.name||"Your Organization",onComplete:()=>s("/dashboard"),onCancel:()=>s("/dashboard")})})},Ye=()=>{const{canManageHR:r,canManageOrganization:s}=Q(),{user:t}=w();return!r()&&!s()?e.jsx(N,{to:"/dashboard",replace:!0}):e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Warnings Review..."}),children:e.jsx(He,{organizationId:t?.organizationId||""})})},qe=()=>{const{user:r,loading:s,error:t}=w();return s?e.jsx(Ve,{}):t?e.jsx(Ze,{error:t}):r?e.jsx(Ae,{children:e.jsx(ne,{})}):e.jsx(N,{to:"/login",replace:!0})},Xe=()=>{const{user:r}=w();return e.jsxs(te,{children:[e.jsx(m,{path:"/login",element:r?e.jsx(N,{to:"/dashboard",replace:!0}):e.jsx(Ce,{})}),e.jsxs(m,{element:e.jsx(qe,{}),children:[e.jsx(m,{path:"/",element:e.jsx(N,{to:"/dashboard",replace:!0})}),e.jsx(m,{path:"/dashboard",element:e.jsx(Re,{children:e.jsx(X,{})})}),e.jsx(m,{path:"/employees",element:e.jsx(Se,{children:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Employee Management..."}),children:e.jsx(Me,{})})})}),e.jsx(m,{path:"/warnings/create",element:e.jsx(_,{children:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Warning Wizard..."}),children:e.jsx(Je,{})})})}),e.jsx(m,{path:"/warnings/review",element:e.jsx(_,{children:e.jsx(Ye,{})})}),e.jsx(m,{path:"/users",element:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading User Management..."}),children:e.jsx(Pe,{})})}),e.jsx(m,{path:"/book-hr-meeting",element:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading HR Meeting Form..."}),children:e.jsx(Be,{})})}),e.jsx(m,{path:"/report-absence",element:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Absence Report..."}),children:e.jsx(We,{})})}),e.jsx(m,{path:"/hr/absence-reports",element:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Absence Reviews..."}),children:e.jsx(_e,{})})}),e.jsx(m,{path:"/hr/meeting-requests",element:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Meeting Reviews..."}),children:e.jsx(Ue,{})})}),e.jsx(m,{path:"/hr/corrective-counselling",element:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Counselling Dashboard..."}),children:e.jsx(Ge,{})})}),e.jsx(m,{path:"/resellers",element:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Reseller Management..."}),children:e.jsx(De,{})})}),e.jsx(m,{path:"/my-clients",element:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Client List..."}),children:e.jsx(Fe,{})})}),e.jsx(m,{path:"/deploy-client",element:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Deployment Wizard..."}),children:e.jsx(U,{isOpen:!0,onClose:()=>window.history.back(),onComplete:()=>window.location.href="/my-clients"})})}),e.jsx(m,{path:"/commissions",element:e.jsxs("div",{className:"hr-card",children:[e.jsx("h2",{children:"üí∞ Commission Reports"}),e.jsx("p",{children:"Your earnings and commission statements"})]})}),e.jsx(m,{path:"/performance",element:e.jsxs("div",{className:"hr-card",children:[e.jsx("h2",{children:"üìà Performance Analytics"}),e.jsx("p",{children:"Detailed performance metrics and trends"})]})}),e.jsx(m,{path:"/client-support",element:e.jsxs("div",{className:"hr-card",children:[e.jsx("h2",{children:"üéØ Client Support"}),e.jsx("p",{children:"Tools to help support your clients"})]})}),e.jsx(m,{path:"/organizations",element:e.jsxs("div",{className:"hr-card",children:[e.jsx("h2",{children:"üè¢ Organizations Management"}),e.jsx("p",{children:"Coming soon..."})]})}),e.jsx(m,{path:"/deploy",element:e.jsx(c.Suspense,{fallback:e.jsx(f,{text:"Loading Deployment Wizard..."}),children:e.jsx(U,{isOpen:!0,onClose:()=>window.history.back(),onComplete:()=>window.location.href="/organizations"})})}),e.jsx(m,{path:"/overview",element:e.jsxs("div",{className:"hr-card",children:[e.jsx("h2",{children:"üìä Business Overview"}),e.jsx("p",{children:"Coming soon..."})]})}),e.jsx(m,{path:"/compliance",element:e.jsxs("div",{className:"hr-card",children:[e.jsx("h2",{children:"‚öñÔ∏è Compliance Reports"}),e.jsx("p",{children:"Coming soon..."})]})}),e.jsx(m,{path:"/reports",element:e.jsxs("div",{className:"hr-card",children:[e.jsx("h2",{children:"üìÑ HR Reports"}),e.jsx("p",{children:"Coming soon..."})]})}),e.jsx(m,{path:"/team",element:e.jsxs("div",{className:"hr-card",children:[e.jsx("h2",{children:"üë• My Team"}),e.jsx("p",{children:"Coming soon..."})]})}),e.jsx(m,{path:"/analytics",element:e.jsxs("div",{className:"hr-card",children:[e.jsx("h2",{children:"üìà Analytics Dashboard"}),e.jsx("p",{children:"Coming soon..."})]})}),e.jsx(m,{path:"/settings",element:e.jsxs("div",{className:"hr-card",children:[e.jsx("h2",{children:"‚öôÔ∏è Organization Settings"}),e.jsx("p",{children:"Coming soon..."})]})})]}),e.jsx(m,{path:"*",element:e.jsx(N,{to:"/dashboard",replace:!0})})]})};function Qe(){return x.debug("üöÄ <File> by Fifo - Fully Integrated, Fully Online HR Management System initializing..."),e.jsx(E,{children:e.jsx(Le,{children:e.jsx(q,{children:e.jsx(se,{children:e.jsx("div",{className:"app-container",children:e.jsx(Xe,{})})})})})})}ee();pe.createRoot(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(Qe,{})}));
