import{j as e}from"./business-owner-dashboard-oCuuJgk5.js";import{r,d as t}from"./react-vendor-BMk1H4su.js";import{n as o,c as a,i as l,C as s}from"./ui-vendor-DjDr2yFV.js";const n=({value:t,onChange:o,min:a,max:l,label:s,className:n=""})=>{const[c,i]=r.useState(!1),d=r.useRef(null);r.useEffect(()=>{if(c&&d.current){const e=d.current,r=48,o=(t-a)*r-e.clientHeight/2+r/2;setTimeout(()=>{e.scrollTo({top:Math.max(0,o),behavior:"smooth"})},100)}},[c,t,a]);const u=(()=>{const e=[];for(let r=a;r<=l;r++)e.push(r);return e})();return e.jsxs("div",{className:`relative ${n}`,children:[e.jsx("div",{onClick:()=>i(!c),className:"w-24 h-20 cursor-pointer border-2 rounded-2xl flex items-center justify-center transition-all duration-200 hover:scale-105",style:{backgroundColor:"var(--color-card-background)",borderColor:c?"var(--color-primary)":"var(--color-border)",boxShadow:c?"0 0 0 3px var(--color-primary-light)":"0 4px 12px rgba(0, 0, 0, 0.08)"},children:e.jsx("span",{className:"text-3xl font-light",style:{color:"var(--color-text)",fontVariantNumeric:"tabular-nums"},children:t.toString().padStart(2,"0")})}),c&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-24 bg-white border-2 rounded-2xl shadow-lg z-10 overflow-hidden",style:{backgroundColor:"var(--color-card-background)",borderColor:"var(--color-primary)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15)"},children:e.jsx("div",{ref:d,className:"max-h-48 overflow-y-auto scrollbar-thin",style:{scrollbarWidth:"thin",scrollbarColor:"var(--color-primary) transparent"},children:u.map(r=>e.jsx("button",{onClick:()=>(o(r),void i(!1)),className:"w-full h-12 flex items-center justify-center transition-all duration-150 hover:scale-105",style:{backgroundColor:r===t?"var(--color-primary-light)":"transparent",color:r===t?"var(--color-primary)":"var(--color-text)",fontWeight:r===t?"600":"400",fontVariantNumeric:"tabular-nums"},onMouseEnter:e=>{r!==t&&(e.currentTarget.style.backgroundColor="var(--color-muted)")},onMouseLeave:e=>{r!==t&&(e.currentTarget.style.backgroundColor="transparent")},children:e.jsx("span",{className:"text-lg",children:r.toString().padStart(2,"0")})},r))})}),e.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"text-xs font-medium tracking-wider uppercase",style:{color:"var(--color-text-tertiary)"},children:s})})]})},c=({label:c,value:i,onChange:d,type:u="date",icon:m,required:x=!1,disabled:h=!1,error:g,className:v=""})=>{const[p,b]=r.useState(!1),[y,f]=r.useState(i?new Date(i):null),[j,w]=r.useState(new Date),[N,S]=r.useState({hours:i?new Date(`1970-01-01T${i}`).getHours():9,minutes:i?new Date(`1970-01-01T${i}`).getMinutes():0}),C=r.useRef(null),k=r.useRef(null);r.useEffect(()=>{const e=e=>{k.current&&!k.current.contains(e.target)&&C.current&&!C.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),r.useEffect(()=>(p?(setTimeout(()=>{const e=k.current;e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},100),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[p]);const D=e=>{f(e);const r=e.toISOString().split("T")[0];d(r),b(!1)},M=(e,r)=>{S({hours:e,minutes:r});const t=`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`;d(t)},T=(()=>{const e=j.getFullYear(),r=j.getMonth(),t=new Date(e,r,1),o=new Date(t);o.setDate(o.getDate()-t.getDay());const a=[];for(let l=0;l<42;l++){const e=new Date(o);e.setDate(o.getDate()+l),a.push(e)}return a})(),E=new Date,z={backgroundColor:g?"var(--color-alert-error-bg)":"var(--color-input-background)",borderColor:g?"var(--color-alert-error-border)":"var(--color-input-border)",color:"var(--color-text)"};return e.jsxs("div",{className:`space-y-2 ${v}`,children:[e.jsxs("label",{className:"block text-xs font-medium",style:{color:"var(--color-text-secondary)"},children:[m&&e.jsx(m,{className:"w-3 h-3 inline mr-1"}),c," ",x&&e.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),e.jsxs("div",{className:"relative",ref:C,children:[e.jsxs("div",{onClick:()=>!h&&b(!p),className:"w-full h-11 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm cursor-pointer flex items-center justify-between "+(h?"opacity-50 cursor-not-allowed":""),style:z,children:[e.jsx("span",{style:{color:i?"var(--color-text)":"var(--color-text-tertiary)"},children:"time"===u?i||"Select time...":y?y.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Select date..."}),"date"===u?e.jsx(o,{className:"w-4 h-4",style:{color:"var(--color-primary)"}}):e.jsx(a,{className:"w-4 h-4",style:{color:"var(--color-primary)"}})]}),p&&"undefined"!=typeof document&&t.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[10000]",onClick:()=>b(!1)}),e.jsx("div",{ref:k,className:"fixed inset-0 z-[10001] flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full max-h-[90vh] overflow-auto",style:{backgroundColor:"var(--color-card-background)",borderColor:"var(--color-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:e=>e.stopPropagation(),children:"date"===u?e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>w(new Date(j.setMonth(j.getMonth()-1))),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",style:{color:"var(--color-text-secondary)"},children:e.jsx(l,{className:"w-4 h-4"})}),e.jsx("h3",{className:"font-semibold text-center flex-1",style:{color:"var(--color-text)"},children:j.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),e.jsx("button",{onClick:()=>w(new Date(j.setMonth(j.getMonth()+1))),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",style:{color:"var(--color-text-secondary)"},children:e.jsx(s,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(r=>e.jsx("div",{className:"text-xs font-medium text-center p-2",style:{color:"var(--color-text-secondary)"},children:r},r))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:T.map((r,t)=>{const o=r.getMonth()===j.getMonth(),a=r.toDateString()===E.toDateString(),l=y&&r.toDateString()===y.toDateString();return e.jsx("button",{onClick:()=>o&&D(r),disabled:!o,className:"p-2 text-sm rounded-lg transition-all "+(o?"hover:bg-gray-100 cursor-pointer":"opacity-30 cursor-not-allowed"),style:{backgroundColor:l?"var(--color-primary)":a?"var(--color-primary-light)":"transparent",color:l?"white":a?"var(--color-primary)":"var(--color-text)",fontWeight:a||l?"600":"400"},children:r.getDate()},t)})}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("button",{onClick:()=>D(E),className:"px-4 py-2 text-sm rounded-lg border transition-colors",style:{borderColor:"var(--color-primary)",color:"var(--color-primary)",backgroundColor:"transparent"},children:"Today"})})]}):e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("h3",{className:"text-lg font-light tracking-wide",style:{color:"var(--color-text)",letterSpacing:"0.5px"},children:"Select Time"})}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mb-8",children:[e.jsx(n,{value:N.hours,onChange:e=>M(e,N.minutes),min:0,max:23,label:"Hours"}),e.jsxs("div",{className:"flex flex-col items-center self-start mt-12",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mb-3",style:{backgroundColor:"var(--color-primary)"}}),e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"var(--color-primary)"}})]}),e.jsx(n,{value:N.minutes,onChange:e=>M(N.hours,e),min:0,max:59,label:"Minutes"})]}),e.jsx("div",{className:"text-center mb-6",children:e.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full",style:{backgroundColor:"var(--color-muted)"},children:[e.jsx(a,{className:"w-4 h-4 mr-2",style:{color:"var(--color-text-secondary)"}}),e.jsxs("span",{className:"text-lg font-medium tracking-wider",style:{color:"var(--color-text)",fontVariantNumeric:"tabular-nums"},children:[N.hours.toString().padStart(2,"0"),":",N.minutes.toString().padStart(2,"0")]})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>b(!1),className:"px-8 py-3 rounded-xl font-medium tracking-wide transition-all duration-200 transform hover:scale-105 active:scale-95",style:{backgroundColor:"var(--color-primary)",color:"white",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)",letterSpacing:"0.5px"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 6px 24px rgba(0, 0, 0, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.15)"},children:"Done"})})]})})})]}),document.body)]}),g&&e.jsxs("div",{className:"flex items-center gap-1 text-xs",style:{color:"var(--color-error)"},children:[e.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),g]})]})};export{c as C};
