import{j as e}from"./business-owner-dashboard-BmQl3e0o.js";import{r}from"./react-vendor-BMk1H4su.js";import{ah as s,g as o,W as l,X as t}from"./ui-vendor-nvFuqpTO.js";const a=({employees:a,selectedEmployeeId:c,onEmployeeSelect:i,disabled:n=!1,className:d="",title:m="Employee Selection",subtitle:x="Choose the employee for this action"})=>{const[h,v]=r.useState(""),[p,y]=r.useState(!1),[u,N]=r.useState(!1),j=r.useMemo(()=>{if(!h.trim())return a;const e=h.toLowerCase();return a.filter(r=>{const s=`${r.firstName} ${r.lastName}`.toLowerCase(),o=r.department?.toLowerCase()||"";return s.includes(e)||o.includes(e)})},[a,h]),f=r.useMemo(()=>a.find(e=>e.id===c),[a,c]),b=r.useCallback(e=>{i(e),y(!1),N(!1),v("")},[i]),g=r.useCallback(()=>{if(n)return;window.innerWidth<768?N(!0):y(!p)},[n,p]),w=r.useCallback(()=>{N(!1),v("")},[]);return e.jsxs("div",{className:`form-section ${d}`,children:[e.jsxs("div",{className:"unified-section-header",children:[e.jsx("div",{className:"unified-section-header__icon",children:e.jsx(s,{className:"w-5 h-5"})}),e.jsxs("div",{className:"unified-section-header__content",children:[e.jsx("h3",{className:"unified-section-header__title",children:m}),e.jsx("p",{className:"unified-section-header__subtitle",children:x})]})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"cursor-pointer transition-all min-h-[48px] p-3 rounded border "+(n?"opacity-50 cursor-not-allowed":"hover:border-primary"),style:{backgroundColor:"var(--color-input-background)",borderColor:p?"var(--color-primary)":"var(--color-input-border)",boxShadow:p?"0 0 0 2px var(--color-primary-light)":void 0},onClick:g,children:f?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--color-primary-light)"},children:e.jsxs("span",{className:"font-semibold text-xs",style:{color:"var(--color-primary)"},children:[f.firstName?.charAt(0),f.lastName?.charAt(0)]})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"text-sm font-semibold",style:{color:"var(--color-text)"},children:[f.firstName," ",f.lastName]}),e.jsxs("div",{className:"text-xs truncate",style:{color:"var(--color-text-secondary)"},children:[f.position," • ",f.department]})]})]}),e.jsx(o,{className:"w-4 h-4 transition-transform flex-shrink-0 "+(p?"rotate-180":""),style:{color:"var(--color-text-tertiary)"}})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{className:"w-4 h-4",style:{color:"var(--color-text-tertiary)"}}),e.jsx("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Select an employee..."})]}),e.jsx(o,{className:"w-4 h-4 transition-transform "+(p?"rotate-180":""),style:{color:"var(--color-text-tertiary)"}})]})}),p&&e.jsxs("div",{className:"fixed top-20 left-4 right-4 z-[10001] rounded-lg shadow-lg max-h-80 overflow-hidden md:absolute md:top-full md:left-0 md:right-0",style:{backgroundColor:"var(--color-background)",border:"1px solid var(--color-border)"},children:[e.jsx("div",{className:"p-3",style:{borderBottom:"1px solid var(--color-border)"},children:e.jsxs("div",{className:"relative",children:[e.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:"var(--color-text-tertiary)"}}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:h,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-3 py-2 rounded border text-sm focus:ring-2",style:{backgroundColor:"var(--color-input-background)",borderColor:"var(--color-input-border)",color:"var(--color-text)","--ring-color":"var(--color-primary)"}})]})}),e.jsx("div",{className:"max-h-60 overflow-y-auto",children:j.length>0?e.jsx("div",{className:"py-2",children:j.map(r=>e.jsx("button",{onClick:()=>b(r.id),className:"w-full text-left px-3 py-2 transition-colors hover:bg-opacity-50",style:{color:"var(--color-text)",":hover":{backgroundColor:"var(--color-primary-light)"}},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--color-primary-light)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--color-primary-light)"},children:e.jsxs("span",{className:"font-semibold text-xs",style:{color:"var(--color-primary)"},children:[r.firstName?.charAt(0),r.lastName?.charAt(0)]})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"font-medium text-sm",style:{color:"var(--color-text)"},children:[r.firstName," ",r.lastName]}),e.jsxs("div",{className:"text-xs truncate",style:{color:"var(--color-text-secondary)"},children:[r.position," • ",r.department]})]})]})},r.id))}):e.jsxs("div",{className:"px-4 py-8 text-center",children:[e.jsx(s,{className:"w-8 h-8 mx-auto mb-2",style:{color:"var(--color-text-tertiary)"}}),e.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:h?`No employees found matching "${h}"`:"No employees available"})]})})]})]})}),u&&e.jsxs("div",{className:"mobile-employee-modal",children:[e.jsx("div",{className:"mobile-employee-modal-backdrop",onClick:w}),e.jsxs("div",{className:"mobile-employee-modal-content",children:[e.jsxs("div",{className:"flex items-center justify-between p-4",style:{borderBottom:"1px solid var(--color-border)"},children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:"Select Employee"}),e.jsx("button",{onClick:w,className:"p-2 rounded-full hover:bg-opacity-10",style:{backgroundColor:"var(--color-text-tertiary)"},children:e.jsx(t,{className:"w-5 h-5",style:{color:"var(--color-text)"}})})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4",style:{color:"var(--color-text-tertiary)"}}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:h,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-3 py-2 rounded border",style:{backgroundColor:"var(--color-input-background)",borderColor:"var(--color-input-border)",color:"var(--color-text)"}})]})}),e.jsx("div",{className:"mobile-category-list",children:j.length>0?e.jsx("div",{children:j.map(r=>e.jsx("button",{onClick:()=>b(r.id),className:"w-full text-left px-4 py-3 transition-colors",style:{borderBottom:"1px solid var(--color-border)",color:"var(--color-text)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--color-primary-light)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--color-primary-light)"},children:e.jsxs("span",{className:"font-semibold text-sm",style:{color:"var(--color-primary)"},children:[r.firstName?.charAt(0),r.lastName?.charAt(0)]})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"font-medium text-base",style:{color:"var(--color-text)"},children:[r.firstName," ",r.lastName]}),e.jsxs("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:[r.position," • ",r.department]})]})]})},r.id))}):e.jsxs("div",{className:"px-4 py-8 text-center",children:[e.jsx(s,{className:"w-8 h-8 mx-auto mb-2",style:{color:"var(--color-text-tertiary)"}}),e.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:h?`No employees found matching "${h}"`:"No employees available"})]})})]})]})]})};export{a as U};
